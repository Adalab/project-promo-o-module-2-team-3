"use strict";const diseña=document.querySelector(".form-title-js"),rellena=document.querySelector(".form-title2-js"),comparte=document.querySelector(".form-title3-js"),fieldsetForm=document.querySelectorAll(".form-js");let allInputs=document.querySelectorAll(".js-input");const resetButton=document.querySelector(".preview__button"),paletteDesing=document.querySelectorAll(".list__palette"),namePreview=document.querySelector(".name"),jobPreview=document.querySelector(".profession"),linkedinPreview=document.querySelector(".linkedin-js"),githubPreview=document.querySelector(".github-js"),emailLink=document.querySelector(".js-email"),iconPhone=document.querySelector(".linkPhone"),icons=document.querySelectorAll(".js-icon"),iconsBorder=document.querySelectorAll(".js-iconBorder"),divLine=document.querySelector(".js__line-palette"),cardButton=document.querySelector("#button-card"),shareDiv=document.querySelector("#share-card");function resetForm(e){e.preventDefault();for(const e of allInputs)e.value="";namePreview.innerHTML="Nombre y apellidos",jobPreview.innerHTML="Profesión",emailLink.href="",linkedinPreview.href="",githubPreview.href="",iconPhone.href="",profileImage.style.backgroundImage="",profilePreview.style.backgroundImage=""}function handClickCollapsed(e){const r=e.currentTarget.querySelectorAll(".js-arrow");for(let e=0;e<r.length;e++){r[e].classList.toggle("js-arrow-down")}e.currentTarget===rellena?(e.currentTarget.parentNode.classList.toggle("collapsed"),diseña.parentNode.classList.add("collapsed"),comparte.parentNode.classList.add("collapsed")):e.currentTarget===diseña?(e.currentTarget.parentNode.classList.toggle("collapsed"),rellena.parentNode.classList.add("collapsed"),comparte.parentNode.classList.add("collapsed")):e.currentTarget===comparte&&(e.currentTarget.parentNode.classList.toggle("collapsed"),rellena.parentNode.classList.add("collapsed"),diseña.parentNode.classList.add("collapsed"))}resetButton.addEventListener("click",resetForm);const data={name:"",job:"",email:"",phone:"",linkedin:"",github:"",photo:"",palette:1};function renderPreviewCard(){""===data.name?namePreview.innerHTML="Nombre y apellidos":namePreview.innerHTML=data.name,""===data.job?jobPreview.innerHTML="Profesión":jobPreview.innerHTML=data.job,""===data.email?emailLink.href="":emailLink.href="mailto:"+data.email,""===data.linkedin?linkedinPreview.href="":linkedinPreview.href=data.linkedin,""===data.github?githubPreview.href="":githubPreview.href=data.github,""===data.phone?iconPhone.href="":iconPhone.href="tel:+34"+data.phone}function getData(e){const r=e.currentTarget.value,o=e.currentTarget.id;data[o]=r,console.log(data),renderPreviewCard()}for(const e of allInputs)e.addEventListener("keyup",getData);function handleCreateCard(e){e.preventDefault(),fetch("https://awesome-profile-cards.herokuapp.com/card",{method:"POST",body:JSON.stringify(data),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log(e)})}function addListenersPalette(){for(const e of paletteDesing)e.addEventListener("click",changeColorPalette)}function changeColorPalette(e){let r=e.currentTarget.children[0];if(!1===r.checked&&(r.checked=!0),e.currentTarget.classList.contains("second__color")){namePreview.classList.add("color2-dark"),divLine.classList.add("background-color2"),jobPreview.classList.add("color2-light");for(const e of icons)e.classList.add("color2-icon");for(const e of iconsBorder)e.classList.add("color2-icon-border")}else{namePreview.classList.remove("color2-dark"),divLine.classList.remove("background-color2"),jobPreview.classList.remove("color2-light");for(const e of icons)e.classList.remove("color2-icon");for(const e of iconsBorder)e.classList.remove("color2-icon-border")}if(e.currentTarget.classList.contains("third__color")){namePreview.classList.add("color3-dark"),divLine.classList.add("background-color3"),jobPreview.classList.add("color3");for(const e of icons)e.classList.add("color3-icon");for(const e of iconsBorder)e.classList.add("color3-icon-border")}else{namePreview.classList.remove("color3-dark"),divLine.classList.remove("background-color3"),jobPreview.classList.remove("color3");for(const e of icons)e.classList.remove("color3-icon");for(const e of iconsBorder)e.classList.remove("color3-icon-border")}}addListenersPalette(),rellena.addEventListener("click",handClickCollapsed),comparte.addEventListener("click",handClickCollapsed),diseña.addEventListener("click",handClickCollapsed),cardButton.addEventListener("click",handleCreateCard);const fr=new FileReader,fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");function getImage(e){const r=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(r)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,data.photo=fr.result}function fakeFileClick(){fileField.click()}fileField.addEventListener("change",getImage);